return(async()=>{var c=class{constructor(e,r){this.debug=e,this.prefix=r}log(e,r){this.debug&&console.log(`${this.prefix} ${e}`,r??"")}error(e,r){console.error(`${this.prefix} ${e}`,r??"")}warn(e,r){console.warn(`${this.prefix} ${e}`,r??"")}};function u(e,r,o){const n=o?`[${r} Test]`:`[AEP ${r}]`;return new c(e,n)}function a(e){if(!e||typeof e!="string")return!1;const r=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,o=/^[a-z0-9]{15}([a-z0-9]{3})?$/i;return r.test(e)||o.test(e)}function f(e,r){const o={EMPTY:0,PUBLISHER:1,APP_TYPE:2,ID:3,NAME:4},n=4,l=e.split("/");if(l.length>=n&&l[o.PUBLISHER]==="publisher"){const t=l[o.ID];if(t&&a(t))return t;r.log("Invalid publisher ID format",t)}return null}async function i(e=!1){const o=u({debug:e}.debug,"Publisher ID DOM",e);try{e&&(console.log("=".repeat(80)),console.log("PUBLISHER ID FETCHER (DOM) - TEST MODE"),console.log("=".repeat(80))),o.log("Searching for publisher links in DOM");const n=document.querySelectorAll('a[href^="/publisher/"]');o.log(`Found ${n.length} publisher links`);for(let l=0;l<n.length;l++){const t=n[l].getAttribute("href");if(t){const s=f(t,o);if(s)return o.log("Found valid publisher ID",s),e&&(console.log("=".repeat(80)),console.log("RESULT:"),console.log("=".repeat(80)),console.log(`Publisher ID: ${s}`),console.log("=".repeat(80))),s}}return o.log("No valid publisher link found in DOM"),e&&(console.log("=".repeat(80)),console.log("RESULT: null (no publisher link found)"),console.log("=".repeat(80))),null}catch(n){return o.error("Unexpected error parsing publisher ID:",n),null}}return await i(!1)})();
