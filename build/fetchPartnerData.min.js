return(async()=>{var i=class{constructor(e,r,t){this.debug=e,this.prefix=r,this.isTestMode=t}log(e,r){this.debug&&console.log(`${this.prefix} ${e}`,r??"")}error(e,r){console.error(`${this.prefix} ${e}`,r??"")}warn(e,r){console.warn(`${this.prefix} ${e}`,r??"")}testHeader(e,r){if(!this.isTestMode)return;const t="=".repeat(80);console.debug(t),console.debug(e),console.debug(t),r!==void 0&&(console.debug(r),console.debug(t))}testResult(e){if(!this.isTestMode)return;const r="=".repeat(80);console.debug(r),console.debug("RESULT:"),console.debug(r),console.debug(typeof e=="string"?e:JSON.stringify(e,null,2)),console.debug(r)}testInfo(e,r){this.isTestMode&&(r!==void 0?console.debug(e,r):console.debug(e))}};function c(e,r,t){const o=t?`[${r} Test]`:`[AEP ${r}]`;return new i(e,o,t)}function u(e){const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length===2?t.pop()?.split(";").shift()??null:null}function l(e){if(!e)return null;try{return JSON.parse(decodeURIComponent(e))}catch{return null}}var d="partner_data";function g(e,r){const t=u(e);if(!t)return r.log("No partner data in cookies"),null;const o=l(t);return o?(r.log("Found partner data",o),o):(r.error("Error parsing partner data from cookie"),null)}async function s(e=!1,r=d){const t={debug:e,cookieKey:r},o=c(t.debug,"Partner Data",e);try{o.testHeader("PARTNER DATA EXTRACTOR - TEST MODE",`Cookie Key: ${t.cookieKey}`);const n={partnerData:g(t.cookieKey,o)};return o.testResult(n),e||o.log("Returning partner data",n),n}catch(a){return o.error("Unexpected error fetching partner data:",a),null}}return await s(!1)})();
