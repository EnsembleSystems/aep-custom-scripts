return(async()=>{const e=!1;class t{constructor(e,t){this.debug=e,this.prefix=t}log(e,t){this.debug&&console.log(`${this.prefix} ${e}`,t??"")}error(e,t){console.error(`${this.prefix} ${e}`,t??"")}}const r=1e4,n=(o="Event Data",new t(e,e?`[${o} Test]`:`[AEP ${o}]`));var o;const a="/api/event.json?meta=true",s="attendeaseMember";try{e;const t=`${window.location.origin}${a}`;n.log("Fetching event data from",t);const o=await function(e,t,r){const n=new AbortController,o=setTimeout(()=>n.abort(),r);return fetch(e,{...t,signal:n.signal}).finally(()=>{clearTimeout(o)})}(t,{method:"GET",headers:{Accept:"application/json"}},r);if(!o.ok)return n.error(`API error: ${o.status} ${o.statusText}`),null;!function(e){const t=e.headers.get("content-length");if(t&&parseInt(t,10)>5242880)throw new Error(`Response too large: ${t} bytes (max: 5242880)`)}(o);const c=await o.json();n.log("Event data received",c);const i=function(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}}(s);i?n.log("Found attendee data",i):n.log("No attendee data in localStorage");const l={eventData:c,attendeeData:i};return n.log("Returning combined data",l),l}catch(e){return function(e){return e instanceof Error&&"AbortError"===e.name}(e)?(n.error(`Request timeout after ${r}ms`),null):function(e){return e instanceof TypeError&&e.message.includes("fetch")}(e)?(n.error("Network error:",e),null):(n.error("Unexpected error fetching event data:",e),null)}})();