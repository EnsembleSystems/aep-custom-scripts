return(async()=>{const t=!1;class e{constructor(t,e){this.debug=t,this.prefix=e}log(t,e){this.debug&&console.log(`${this.prefix} ${t}`,e??"")}error(t,e){console.error(`${this.prefix} ${t}`,e??"")}}const r=1e4,n=(o="Event Data",new e(t,t?`[${o} Test]`:`[AEP ${o}]`));var o;const a="/api/event.json?meta=true",s="attendeaseMember";try{t;const e=`${window.location.origin}${a}`;n.log("Fetching event data from",e);const o=await function(t,e,r){const n=new AbortController,o=setTimeout(()=>n.abort(),r);return fetch(t,{...e,signal:n.signal}).finally(()=>{clearTimeout(o)})}(e,{method:"GET",headers:{Accept:"application/json"}},r);if(!o.ok)return n.error(`API error: ${o.status} ${o.statusText}`),null;!function(t){const e=t.headers.get("content-length");if(e&&parseInt(e,10)>5242880)throw new Error(`Response too large: ${e} bytes (max: 5242880)`)}(o);const c=await o.json();n.log("Event data received",c);const i=function(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}}(s);i?n.log("Found attendee data",i):n.log("No attendee data in localStorage");const l={eventData:c,attendeeData:i};return n.log("Returning combined data",l),l}catch(t){return function(t){return t instanceof Error&&"AbortError"===t.name}(t)?(n.error(`Request timeout after ${r}ms`),null):function(t){return t instanceof TypeError&&t.message.includes("fetch")}(t)?(n.error("Network error:",t),null):(n.error("Error:",t),null)}})();